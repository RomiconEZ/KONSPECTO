# Архитектура Проекта KONSPECTO

Ниже представлена детальная структура папок и файлов проекта KONSPECTO. Каждая папка и файл описаны с указанием их назначения и содержимого.

## Структура Проекта

```plaintext
KONSPECTO/
├── frontend/
├── backend/
├── agent/
├── docs/
├── docker/
├── tests/
├── .gitignore
├── docker-compose.yml
├── README.md
└── LICENSE
```

### Описание Корневой Директории

- **frontend/**: Содержит весь исходный код и конфигурацию фронтенд-части приложения.
- **backend/**: Содержит исходный код и конфигурацию бэкенд-части приложения, включая API и взаимодействие с базой данных.
- **agent/**: Содержит код и инструменты, связанные с AI агентом, включая модели, обработку запросов и интеграцию с другими сервисами.
- **docs/**: Хранит техническую документацию, инструкции и другую сопутствующую документацию.
- **docker/**: Содержит Docker-файлы и конфигурации для различных сервисов.
- **tests/**: Содержит общие тесты, если применимо.
- **.gitignore**: Файл, указывающий Git, какие файлы и папки игнорировать.
- **docker-compose.yml**: Файл конфигурации Docker Compose для оркестрации сервисов.
- **README.md**: Основная документация проекта с описанием, установкой и использованием.
- **LICENSE**: Лицензионное соглашение проекта.

---

## frontend
```plaintext
frontend/
├── public/
│   ├── index.html
│   └── favicon.ico
├── src/
│   ├── assets/
│   ├── components/
│   ├── pages/
│   ├── services/
│   ├── App.jsx
│   ├── index.jsx
│   └── styles/
├── .env
├── .eslintrc.js
├── package.json
├── tailwind.config.js
├── postcss.config.js
└── vite.config.js
```

### Описание Папок и Файлов

- **public/**: Содержит статические файлы, такие как `index.html`, иконки и другие ресурсы, которые не обрабатываются сборщиком.
  - `index.html`: Основной HTML-файл приложения.
  - `favicon.ico`: Иконка сайта.

- **src/**: Основная директория с исходным кодом фронтенда.
  - **assets/**: Содержит изображения, шрифты и другие медиафайлы.
  - **components/**: Повторно используемые React-компоненты.
  - **pages/**: Страницы приложения, представляющие различные маршруты.
  - **services/**: Функции и модули для взаимодействия с API и другими сервисами.
  - **styles/**: Стилизация приложения, включая TailwindCSS и дополнительные CSS/SCSS файлы.
  - `App.jsx`: Главный компонент приложения, содержащий маршрутизацию и общие компоненты.
  - `index.jsx`: Точка входа в приложение, рендеринг React-дерева.

- **.env**: Файл окружения для настройки переменных среды (например, API URL).

- **.eslintrc.js**: Конфигурация ESLint для обеспечения соблюдения стилей кодирования.

- **package.json**: Файл зависимостей и скриптов для фронтенда.

- **tailwind.config.js**: Конфигурация TailwindCSS для настройки утилитарных классов.

- **postcss.config.js**: Конфигурация PostCSS для обработки CSS.

- **vite.config.js**: Конфигурация Vite, используемого как сборщик и разработческий сервер.

---

## backend

```plaintext
backend/
├── app/
│   ├── api/
│   │   ├── v1/
│   │   │   ├── endpoints/
│   │   │   │   ├── users.py
│   │   │   │   ├── notes.py
│   │   │   │   └── lectures.py
│   │   │   └── init.py
│   │   └── init.py
│   ├── core/
│   │   ├── config.py
│   │   ├── security.py
│   │   └── init.py
│   ├── models/
│   │   ├── user.py
│   │   ├── note.py
│   │   └── lecture.py
│   ├── schemas/
│   │   ├── user.py
│   │   ├── note.py
│   │   └── lecture.py
│   ├── services/
│   │   ├── auth.py
│   │   ├── api_search.py
│   │   └── init.py
│   ├── utils/
│   │   ├── helpers.py
│   │   └── init.py
│   ├── main.py
│   └── init.py
├── tests/
│   ├── api/
│   ├── models/
│   ├── schemas/
│   └── conftest.py
├── alembic/
│   ├── versions/
│   ├── env.py
│   ├── script.py.mako
│   └── alembic.ini
├── requirements.txt
├── Dockerfile
└── .env
```

### Описание Папок и Файлов

- **app/**: Основная директория бэкенда.
  - **api/**: Реализация API приложения.
    - **v1/**: Версия 1 API.
      - **endpoints/**: Конечные точки API, разделенные по функциональным областям.
        - `users.py`: Конечные точки, связанные с пользователями.
        - `notes.py`: Конечные точки для работы с конспектами.
        - `lectures.py`: Конечные точки для работы с видео-лекциями.
      - `__init__.py`: Инициализация версии API.
    - `__init__.py`: Инициализация API.

  - **core/**: Основные конфигурации и настройки приложения.
    - `config.py`: Конфигурационные настройки приложения.
    - `security.py`: Настройки безопасности и аутентификации.
    - `__init__.py`: Инициализация core.

  - **models/**: Определение моделей базы данных с использованием ORM.
    - `user.py`: Модель пользователя.
    - `note.py`: Модель конспекта.
    - `lecture.py`: Модель видео-лекции.

  - **schemas/**: Определение Pydantic схем для валидации данных.
    - `user.py`: Схемы пользователя.
    - `note.py`: Схемы конспекта.
    - `lecture.py`: Схемы видео-лекции.

  - **services/**: Бизнес-логика и взаимодействие с внешними сервисами.
    - `auth.py`: Логика аутентификации и авторизации.
    - `api_search.py`: Логика поиска по конспектам через API.
    - `__init__.py`: Инициализация services.

  - **utils/**: Вспомогательные функции и утилиты.
    - `helpers.py`: Общие вспомогательные функции.
    - `__init__.py`: Инициализация utils.

  - `main.py`: Точка входа в бэкенд-приложение, настройка FastAPI и запуск сервера.

  - `__init__.py`: Инициализация приложения.

- **tests/**: Тесты для бэкенда.
  - **api/**: Тесты для API конечных точек.
  - **models/**: Тесты для моделей базы данных.
  - **schemas/**: Тесты для Pydantic схем.
  - `conftest.py`: Конфигурации и фикстуры для тестов.

- **alembic/**: Миграции базы данных с использованием Alembic.
  - **versions/**: Файлы миграций.
  - `env.py`: Конфигурация Alembic.
  - `script.py.mako`: Шаблон скрипта миграции.
  - `alembic.ini`: Основной конфигурационный файл Alembic.

- **requirements.txt**: Список зависимостей Python для бэкенда.

- **Dockerfile**: Инструкции для создания Docker-образа бэкенд-сервиса.

- **.env**: Файл окружения для настройки переменных среды (например, параметры базы данных, секретные ключи).

---

## agent

```plaintext
agent/
├── models/
│   ├── llm_model.py
│   └── init.py
├── services/
│   ├── search_service.py
│   ├── merge_notes_service.py
│   ├── video_processing_service.py
│   └── init.py
├── tasks/
│   ├── video_tasks.py
│   ├── merge_tasks.py
│   └── init.py
├── utils/
│   ├── llm_helpers.py
│   └── init.py
├── config.py
├── main.py
└── init.py
```

### Описание Папок и Файлов

- **models/**: Определение и инициализация моделей AI агента.
  - `llm_model.py`: Модель локальной модели LLM (LLM Studio) для обработки текстов.
  - `__init__.py`: Инициализация моделей.

- **services/**: Сервисы и логика, связанные с функциональностью агента.
  - `search_service.py`: Сервис для поиска информации по конспектам с использованием LLM.
  - `merge_notes_service.py`: Сервис для объединения конспектов на основе тем и содержания.
  - `video_processing_service.py`: Сервис для преобразования видео-лекций в слайды с использованием FFmpeg.
  - `__init__.py`: Инициализация сервисов.

- **tasks/**: Асинхронные задачи, обрабатываемые Celery, связанные с агентом.
  - `video_tasks.py`: Задачи по обработке видео и созданию слайдов.
  - `merge_tasks.py`: Задачи по объединению конспектов.
  - `__init__.py`: Инициализация задач.

- **utils/**: Вспомогательные функции и утилиты для агента.
  - `llm_helpers.py`: Вспомогательные функции для работы с LLM.
  - `__init__.py`: Инициализация утилит.

- `config.py`: Конфигурационные настройки агента, включая параметры моделей и сервисов.

- `main.py`: Точка входа для запуска AI агента, настройка сервисов и взаимодействие с другими компонентами.

- `__init__.py`: Инициализация агента.

---

## docs

```plaintext
docs/
├── architecture.md
├── api_documentation.md
├── installation.md
├── user_guide.md
├── developer_guide.md
└── images/
└── architecture_diagram.png
```

### Описание Папок и Файлов

- **architecture.md**: Подробное описание архитектуры системы, взаимодействия компонентов и используемых технологий.
- **api_documentation.md**: Документация по API, включая описание конечных точек, методов, параметров и примеров запросов/ответов.
- **installation.md**: Инструкции по установке и настройке проекта на локальной машине и в продакшн-среде.
- **user_guide.md**: Руководство пользователя по использованию приложения, описание функциональности и примеры использования.
- **developer_guide.md**: Руководство для разработчиков по внесению изменений в код, запуску локальной разработки и настройке окружения.
- **images/**: Папка для хранения изображений и диаграмм, используемых в документации.
  - `architecture_diagram.png`: Диаграмма архитектуры проекта.

---

## docker

```plaintext
docker/
├── frontend/
│   └── Dockerfile
├── backend/
│   └── Dockerfile
├── agent/
│   └── Dockerfile
├── nginx/
│   └── nginx.conf
└── volumes/
└── data/
```

### Описание Папок и Файлов

- **frontend/Dockerfile**: Инструкции для создания Docker-образа фронтенд-сервиса.
- **backend/Dockerfile**: Инструкции для создания Docker-образа бэкенд-сервиса.
- **agent/Dockerfile**: Инструкции для создания Docker-образа AI агента.
- **nginx/nginx.conf**: Конфигурационный файл Nginx для проксирования запросов и обслуживания статических файлов.
- **volumes/data/**: Папка для хранения данных, используемых Docker-контейнерами, например, базы данных.

---

## tests

```plaintext
tests/
├── frontend/
│   ├── unit/
│   ├── integration/
│   └── e2e/
├── backend/
│   ├── unit/
│   ├── integration/
│   └── e2e/
├── agent/
│   ├── unit/
│   ├── integration/
│   └── e2e/
└── shared/
└── fixtures/
```

### Описание Папок и Файлов

- **frontend/**: Тесты для фронтенд-части.
  - **unit/**: Модульные тесты для отдельных компонентов и функций.
  - **integration/**: Интеграционные тесты для проверки взаимодействия компонентов.
  - **e2e/**: End-to-End тесты для проверки полного функционала приложения.

- **backend/**: Тесты для бэкенд-части.
  - **unit/**: Модульные тесты для отдельных модулей и функций.
  - **integration/**: Интеграционные тесты для проверки взаимодействия компонентов (например, API и база данных).
  - **e2e/**: End-to-End тесты для проверки полного функционала API.

- **agent/**: Тесты для AI агента.
  - **unit/**: Модульные тесты для отдельных сервисов и функций агента.
  - **integration/**: Интеграционные тесты для проверки взаимодействия агента с другими компонентами.
  - **e2e/**: End-to-End тесты для проверки полного функционала агента.

- **shared/**: Общие ресурсы для тестов.
  - **fixtures/**: Фикстуры и данные, используемые в тестах.

---