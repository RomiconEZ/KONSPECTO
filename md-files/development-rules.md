# Правила Разработки для Проекта KONSPECTO

Для обеспечения качества кода, консистентности и облегчения совместной работы в команде, установлены следующие правила разработки. Все участники проекта обязаны придерживаться данных стандартов при написании кода и ведении документации.

## 1. Общие Правила

### 1.1. Структура Проекта
- **Организация каталогов:** Четко структурируйте проект, разделяя фронтенд, бекенд, документацию и другие компоненты.
- **Именование файлов и папок:** Используйте понятные и описательные имена, придерживаясь соглашений о наименовании (например, `snake_case` для Python, `kebab-case` для JavaScript).

### 1.2. Комментарии и Документация
- **Начало файла:** В начале каждого файла необходимо добавлять комментарий с указанием пути до текущего файла, начиная с корня проекта.
  - **Пример для Python:**
    ```python
    # /backend/app/api/users.py
    ```
  - **Пример для JavaScript:**
    ```javascript
    // /frontend/src/components/Header.jsx
    ```
- **Документация функций и классов:**
  - Пишите докстринги для всех функций, методов и классов.
  - Используйте [Google Style](https://sphinxcontrib-napoleon.readthedocs.io/en/latest/example_google.html) или [NumPy Style](https://numpydoc.readthedocs.io/en/latest/format.html) для оформления докстрингов.

### 1.3. Контроль Версий
- **Использование Git:** Следуйте принципам Git Flow для ветвления и слияния изменений.
- **Сообщения коммитов:** Пишите информативные сообщения коммитов, описывающие внесенные изменения.
  - **Формат:** `<тип>: <краткое описание>`
  - **Примеры типов:** `feat`, `fix`, `docs`, `style`, `refactor`, `test`, `chore`

## 2. Версии Языков и Библиотек

Для обеспечения совместимости и стабильности проекта используются следующие версии языков программирования и основных библиотек:

### 2.1. Python
- **Версия:** Python 3.10
- **Менеджер пакетов:** `poetry`

### 2.2. Фронтенд
- **React.js:** 18.2.0
- **TailwindCSS:** 3.3.2
- **Node.js:** 18.x
- **npm:** 9.x

### 2.3. Бекенд
- **FastAPI:** 0.95.1
- **Celery:** 5.3.0
- **Redis:** 6.2.6
- **SQLAlchemy:** 1.4.41
- **Alembic:** 1.10.4

### 2.4. Обработка Голоса и Текстов
- **Lightning Whisper-MLX:** Последняя стабильная версия из [репозитория](https://github.com/mustafaaljadery/lightning-whisper-mlx)
- **LLM Studio:** 1.2.3

### 2.5. Преобразование Видео
- **FFmpeg:** 4.4.1

### 2.6. Базы Данных
- **PostgreSQL:** 14.5

### 2.7. Инфраструктура
- **Docker:** 24.0.0
- **Docker Compose:** 2.18.1

## 3. Стандарты Кодирования

### 3.1. Python
- **Стиль кода:** PEP 8
- **Линтер:** `flake8`
- **Форматтер:** `black` (версия 23.1.0)
- **Типизация:** Используйте аннотации типов для всех функций и методов.

### 3.2. JavaScript/TypeScript
- **Стиль кода:** Airbnb JavaScript Style Guide
- **Линтер:** `ESLint` (версия 8.40.0)
- **Форматтер:** `Prettier` (версия 2.8.8)
- **Типизация:** Используйте TypeScript для всех новых компонентов.

## 4. Практики Разработки

### 4.1. Контейнеризация
- **Docker:** Все сервисы (фронтенд, бекенд, базы данных и т.д.) должны быть контейнеризованы с использованием Docker.
- **Docker Compose:** Используйте `docker-compose.yml` для оркестрации сервисов в локальной среде разработки.

### 4.2. Тестирование
- **Покрытие кода:** Стремитесь к покрытию кода тестами не менее 80%.
- **Фреймворки для тестирования:**
  - **Python:** `pytest` (версия 7.3.1)
- **Типы тестов:** Пишите модульные, интеграционные и E2E тесты для всех критичных компонентов.

### 4.3. CI/CD
- **Интеграция:** Настройте CI/CD пайплайны для автоматического тестирования и деплоя.
- **Инструменты:** GitHub Actions или GitLab CI/CD.

### 4.4. Безопасность
- **Зависимости:** Регулярно обновляйте зависимости и проверяйте их на наличие уязвимостей.
- **Переменные окружения:** Храните чувствительные данные в переменных окружения и не включайте их в репозиторий.

## 5. Работа с Документацией

### 5.1. Техническая Документация
- **Инструмент:** Sphinx для Python, Storybook для фронтенда.
- **Хранение:** Документация должна храниться в каталоге `/docs`.

### 5.2. API Документация
- **FastAPI:** Автоматически генерирует документацию Swagger UI.
- **Поддержка:** Обновляйте документацию при изменении API.

## 6. Критерии Оценки
- **Соответствие стандартам кодирования.**
- **Наличие тестов для новых функций.**
- **Документирование изменений.**
- **Оптимизация и эффективность кода.**
---